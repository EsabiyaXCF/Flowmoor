# Flowmoor

Flowmoor 是一個桌面版的 YouTube / Twitch 下載與字幕工具。  
如果你正在找一套把「下載、片段、字幕、時間標記」整合在一起的桌面工具，Flowmoor 就是你要找的。

- 產品代號：`flowmoor`
- 版本：`2.11.0`
- 專案頁面：https://github.com/EsabiyaXCF/flowmoor
- 發佈頁面：https://github.com/EsabiyaXCF/flowmoor/releases

## 為什麼使用 Flowmoor

- 一套工具同時處理 YouTube 與 Twitch，不用切換多個下載器。
- 支持指定時間片段，不再需要下載整部影片。
- 下載後可直接送往字幕轉錄（ASR），快速產生字幕。
- 內建下載歷史、檔案開啟、資料夾開啟與更新提示。
- 首次啟動會自動檢查並初始化核心依賴（yt-dlp / FFmpeg）。

## 功能總覽

| 功能 | 你可以做什麼 |
| --- | --- |
| 影片下載 | 下載 YouTube/Twitch 內容，選擇畫質、檔名、輸出資料夾 |
| 時間範圍 | 只下載指定片段，不必抓整支影片 |
| 直播流程 | 偵測直播中內容，可選擇「繼續下載」或「立即錄製」 |
| 轉碼與編解碼器 | 設定內容型態（影片+音訊 / 僅影片 / 僅音訊）與編解碼器 |
| 歷史管理 | 搜尋、篩選、排序、開啟檔案、清除或刪除單筆記錄 |
| 字幕轉錄（ASR） | Whisper / Qwen3-ASR，輸出 SRT、TXT 或雙格式 |
| RecordTimeLabel | 透過 Google 登入同步時間標記，並可一鍵帶入下載頁 |
| GPU 設定 | 檢測可用硬體編碼器，切換下載硬體加速策略 |
| 更新機制 | 檢查新版本、在程式內下載更新（支援時） |

## 安裝與啟動

### 1) 安裝

1. 到 Releases 下載安裝檔。  
   https://github.com/EsabiyaXCF/flowmoor/releases
2. 安裝後啟動 Flowmoor。

### 2) 首次啟動會發生什麼

- 程式會檢查並初始化下載依賴（例如 yt-dlp、FFmpeg）。
- 畫面上方會看到初始化狀態提示。
- 完成後就可直接下載。

### 3) 建議環境

- Windows 10/11 64-bit（目前專案主要以 Windows 使用流程為核心）
- 穩定網路
- 若要使用 ASR 且追求速度，建議有可用 GPU

## 快速開始（30 秒）

1. 開啟 `下載` 分頁。
2. 貼上 YouTube 或 Twitch 連結。
3. 按 `貼上並取得`。
4. 選畫質、檔名、輸出資料夾（可選）。
5. 按 `開始下載`。
6. 下載完成後可在完成卡片中：
   - 開啟檔案
   - 開啟資料夾
   - 送往字幕轉錄

## 功能與操作說明

### 1) 下載影片（YouTube / Twitch）

1. 進入 `下載` 分頁。
2. 貼上影片網址。
3. 按 `貼上並取得` 讀取資訊。
4. 依需求調整：
   - `影片品質`
   - `檔案名稱`
   - `內容類型`（影片+音訊 / 僅影片 / 僅音訊）
   - `影片編解碼器`（H.264 / VP9 / AV1）
   - `音訊編解碼器`（MP3 / AAC / Opus）
   - `輸出資料夾`
5. 按 `開始下載`。

### 2) 時間範圍片段下載

在下載設定區輸入：

- `開始時間`（例如 `00:10:00`）
- `結束時間`（例如 `00:15:30`）

用途：只下載重點片段，省時間與空間。  
支援格式：`HH:MM:SS`、`MM:SS`、純秒數。

### 3) 下載任務管理

進行中的任務可直接操作：

- 暫停
- 恢復
- 取消
- 展開查看詳細進度（速度、剩餘時間、轉碼狀態）

### 4) 下載完成卡片

下載完成後會顯示操作卡片，可直接：

- 開啟檔案
- 在資料夾中顯示
- 送往字幕轉錄（ASR）

### 5) 歷史記錄（`歷史` 分頁）

可對完成/失敗/取消的記錄做管理：

- 關鍵字搜尋（標題/頻道）
- 狀態篩選
- 排序（日期/標題/頻道）
- 直接開啟檔案
- 在資料夾中顯示
- 刪除單筆 / 清空全部

### 6) 字幕轉錄（`字幕` 分頁）

支援把影音檔轉為字幕或文字稿。

操作流程：

1. 進入 `字幕` 分頁。
2. 拖放檔案，或點擊選取檔案。
3. 按 `開始轉錄`。
4. 完成後可直接開啟輸出檔。

可調整選項：

- 引擎：`Whisper` / `Qwen3-ASR`
- 語言：自動偵測或指定語言
- 模型：Whisper 與 Qwen 各自可選模型
- 硬體模式：`auto` / `gpu` / `cpu`
- 輸出格式：`SRT` / `TXT` / `雙格式`
- Whisper 進階：VAD、Demucs 人聲分離
- Qwen 進階：斷句、最長秒數、最長字數、繁中輸出等

首次使用 ASR 建議：

- 先在字幕頁檢查環境狀態
- 視需要下載模型
- 若環境異常，可用 `重新安裝環境`

### 7) RecordTimeLabel（`紀錄` 分頁）

這是時間標記工作區，會與 Google 雲端同步。

可用流程：

1. 先登入 Google（未登入時會要求登入）。
2. 在左側管理資料夾（新增、重命名、刪除、拖曳排序）。
3. 在右側查看/搜尋記錄、編輯備註、刪除記錄。
4. 對記錄使用 `下載片段`，可把網址與時間自動帶回下載分頁。

補充：RecordTimeLabel 的顯示與片段前後偏移，可在主設定中的 `RecordTimeLabel` 頁籤調整。

讓你一鍵紀錄影片與直播時間戳的網頁插件
[RecordTimeLabel](https://chromewebstore.google.com/detail/recordtimelabel/mlehgefanpmhfaaiomlnoihgkklgpmna?authuser=0&hl=zh-TW)

## 設定說明（右上角齒輪）

### 一般設定

- 預設下載資料夾
- 預設字幕輸出資料夾
- 開機自啟動
- 桌面通知
- Twitch OAuth Token（可測試）
- YouTube Cookies（匯入 cookie.txt）

### 下載設定

- 是否啟用轉碼器
- 預設影片品質
- 輸出容器（Auto / MP4 / MKV）
- 最大同時下載數量
- 自動重試與重試次數
- 下載速度限制（MB/s）
- 是否顯示視訊/音訊編解碼器欄位

### 外觀設定

- 主題（深色/淺色/跟隨系統）
- 動畫效果
- 預設緊湊模式

### RecordTimeLabel 設定

- 是否顯示「所有紀錄」資料夾
- 是否顯示「未分類」資料夾
- 下載片段前後偏移秒數

### GPU 加速

- 檢測可用 GPU 加速器
- 啟用/停用下載硬體編碼
- 選擇硬體編碼器（或自動）
- 前端渲染硬體加速（需重啟生效）

### 關於 / 更新

- 查看目前版本與最新版本
- 檢查更新
- 若環境支援，可直接在程式內下載更新

## 輸出與格式

### 下載輸出

- 內容類型：`影片+音訊`、`僅影片`、`僅音訊`
- 常見容器：`MP4`、`MKV`（依設定與來源條件）
- 僅音訊常見輸出：`MP3`、`M4A/AAC`、`Opus`

### 字幕輸出

- `SRT`
- `TXT`
- `SRT + TXT`

## 常見問題

### Q1. 第一次啟動卡很久是正常的嗎？
是。首次啟動會做依賴檢查與初始化，完成後會正常加速。

### Q2. Twitch 內容無法下載高畫質或受限內容？
請在設定填入 `Twitch OAuth Token`，再按測試確認有效。

### Q3. YouTube 私人/會員影片抓不到？
請在設定匯入有效的 `cookie.txt`（Netscape 格式）。

### Q4. ASR 沒有跑起來或速度很慢？
- 先到字幕頁檢查環境與模型狀態。
- 模型未下載就先下載。
- 嘗試改用 `cpu` 或 `auto`。
- 仍異常可使用 `重新安裝環境`。

### Q5. 下載完成找不到檔案？
到 `歷史` 分頁點該記錄的路徑，或在完成卡片使用「在資料夾中顯示」。

## 資料與隱私

- 下載與轉碼流程在本機執行。
- ASR 轉錄在本機 Python 環境執行。
- RecordTimeLabel 的雲端同步需登入後啟用（Firebase）。

## 使用提醒

請確保你的下載行為符合所在地法律與平台條款，僅下載你有權存取或保存的內容。

---
